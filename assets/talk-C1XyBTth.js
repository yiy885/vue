import{_ as G,n,s as H,h as O,p as P,i as N,w as a,r as c,o as _,a as t,j as l,c as q,J as Q,x as h,z as D,l as W,F as Z,d as K,K as ee,t as b,E as g}from"./index-DCmF9yPo.js";import{g as j}from"./index-CH_iu5NA.js";const ae={class:"hero"},te={class:"intro-text"},le={class:"main-content"},se={class:"messages-grid"},oe={class:"message-content"},ne={class:"msg-text"},re={class:"msg-author"},me={class:"msg-time"},ue={__name:"talk",setup(ie){const x=n(null),w=n(null),k=n(null),V=n(null),C=n(null),M=n(null),S=n(null),L=n(null),r=n({name:"",message:""}),o=n({name:"",email:"",message:""}),v=n([]),m=H({share:{x:0,y:0},contact:{x:0,y:0}}),E=O(()=>o.value.name.trim()&&o.value.email.trim()&&o.value.message.trim()),y=(i,e)=>{const u=i.currentTarget.getBoundingClientRect();m[e]||(m[e]={x:0,y:0}),m[e].x=i.clientX-u.left,m[e].y=i.clientY-u.top},I=i=>new Date(i).toLocaleString("zh-TW",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),F=()=>{if(!r.value.message.trim()){g.warning("請輸入想分享的內容");return}const i={name:r.value.name.trim(),message:r.value.message.trim(),timestamp:Date.now()};v.value.unshift(i),r.value={name:"",message:""},g.success("感謝你的分享！"),setTimeout(()=>{L.value&&j.from(".message-card:first-child",{opacity:0,y:30,scale:.9,duration:.6,ease:"back.out(1.7)"})},100)},T=()=>{if(!E.value){g.warning("請完整填寫所有必填資料");return}g.success({message:`感謝 ${o.value.name} 的聯繫！我們會盡快回覆到 ${o.value.email}`,duration:4e3}),o.value={name:"",email:"",message:""}};return P(()=>{j.timeline({defaults:{ease:"power3.out",duration:1}}).from(x.value,{y:-50,opacity:0}).from(w.value,{opacity:0},"-=0.5").from(k.value,{opacity:0,y:30},"+=0.2").from(V.value,{opacity:0,y:30},"-=0.8").from(C.value,{opacity:0,y:30,color:"#409EFF"},"-=0.8").from([M.value,S.value],{opacity:0,y:50,scale:.95,stagger:.2},"-=0.3")}),(i,e)=>{const d=c("el-input"),u=c("el-form-item"),$=c("el-button"),B=c("el-form"),f=c("el-card"),R=c("el-col"),J=c("el-row"),X=c("el-main"),Y=c("el-container");return _(),N(Y,{class:"talk-container"},{default:a(()=>[t(X,null,{default:a(()=>[l("section",ae,[l("h1",{ref_key:"titleRef",ref:x,class:"title"},"Let's Talk",512),l("p",{ref_key:"subtitleRef",ref:w,class:"subtitle"}," 分享你的故事，或與我們展開對話。 ",512)]),l("section",te,[l("p",{ref_key:"introLine1",ref:k}," 每一個故事都值得被聆聽，每一份想法都可能點亮他人。 ",512),l("p",{ref_key:"introLine2",ref:V}," 在這裡，我們邀請你分享內心的聲音，或是與我們建立更深度的連結。 ",512),l("p",{ref_key:"introLine3",ref:C,class:"highlight"}," 無論是創作的靈感、生活的感悟，還是對未來的想像——都歡迎你與我們分享。 ",512)]),l("section",le,[t(J,{gutter:30},{default:a(()=>[t(R,{md:12,sm:24},{default:a(()=>[t(f,{ref_key:"shareCard",ref:M,class:"glow-card section-card",style:h({"--clr":"rgba(245, 223, 77, 1)","--x":m.share.x+"px","--y":m.share.y+"px"}),onMousemove:e[2]||(e[2]=s=>y(s,"share")),shadow:"hover"},{header:a(()=>e[7]||(e[7]=[l("div",{class:"card-header"},[l("h2",null,"分享你的想法")],-1)])),default:a(()=>[t(B,{onSubmit:D(F,["prevent"]),model:r.value},{default:a(()=>[t(u,{label:"暱稱"},{default:a(()=>[t(d,{modelValue:r.value.name,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value.name=s),placeholder:"你的名字（可留空）",clearable:""},null,8,["modelValue"])]),_:1}),t(u,{label:"想法"},{default:a(()=>[t(d,{modelValue:r.value.message,"onUpdate:modelValue":e[1]||(e[1]=s=>r.value.message=s),type:"textarea",rows:4,placeholder:"想分享的故事、創作靈感或生活感悟...","show-word-limit":"",maxlength:"200"},null,8,["modelValue"])]),_:1}),t(u,null,{default:a(()=>[t($,{type:"primary",onClick:F,disabled:!r.value.message.trim(),style:{"background-color":"rgba(245, 223, 77, 1)","border-color":"rgba(245, 223, 77, 1)",color:"#000"}},{default:a(()=>e[8]||(e[8]=[W(" 分享想法 ",-1)])),_:1,__:[8]},8,["disabled"])]),_:1})]),_:1},8,["model"])]),_:1},8,["style"])]),_:1}),t(R,{md:12,sm:24},{default:a(()=>[t(f,{ref_key:"contactCard",ref:S,class:"glow-card section-card",style:h({"--clr":"rgba(245, 223, 77, 1)","--x":m.contact.x+"px","--y":m.contact.y+"px"}),onMousemove:e[6]||(e[6]=s=>y(s,"contact")),shadow:"hover"},{header:a(()=>e[9]||(e[9]=[l("div",{class:"card-header"},[l("h2",null,"與我們聯繫")],-1)])),default:a(()=>[t(B,{onSubmit:D(T,["prevent"]),model:o.value},{default:a(()=>[t(u,{label:"姓名",required:!0},{default:a(()=>[t(d,{modelValue:o.value.name,"onUpdate:modelValue":e[3]||(e[3]=s=>o.value.name=s),placeholder:"請輸入姓名",clearable:""},null,8,["modelValue"])]),_:1}),t(u,{label:"Email",required:!0},{default:a(()=>[t(d,{modelValue:o.value.email,"onUpdate:modelValue":e[4]||(e[4]=s=>o.value.email=s),placeholder:"請輸入 Email",clearable:""},null,8,["modelValue"])]),_:1}),t(u,{label:"訊息",required:!0},{default:a(()=>[t(d,{modelValue:o.value.message,"onUpdate:modelValue":e[5]||(e[5]=s=>o.value.message=s),type:"textarea",rows:4,placeholder:"想合作或想聊聊的內容...","show-word-limit":"",maxlength:"300"},null,8,["modelValue"])]),_:1}),t(u,null,{default:a(()=>[t($,{type:"success",onClick:T,disabled:!E.value,style:{"background-color":"#67c23a","border-color":"#67c23a"}},{default:a(()=>e[10]||(e[10]=[W(" 送出聯繫 ",-1)])),_:1,__:[10]},8,["disabled"])]),_:1})]),_:1},8,["model"])]),_:1},8,["style"])]),_:1})]),_:1})]),v.value.length?(_(),q("section",{key:0,class:"messages-section",ref_key:"messagesSection",ref:L},[t(f,{shadow:"never",class:"messages-container"},{header:a(()=>e[11]||(e[11]=[l("h3",null,"大家的分享",-1)])),default:a(()=>[l("div",se,[(_(!0),q(Z,null,K(v.value,(s,p)=>{var U,z;return _(),N(f,{key:`msg-${p}`,class:ee(["message-card","glow-card"]),style:h({"--clr":"rgba(245, 223, 77, 0.6)","--x":((U=m[`msg-${p}`])==null?void 0:U.x)+"px"||"0px","--y":((z=m[`msg-${p}`])==null?void 0:z.y)+"px"||"0px"}),onMousemove:A=>y(A,`msg-${p}`),shadow:"hover"},{default:a(()=>[l("div",oe,[l("p",ne,"「"+b(s.message)+"」",1),l("p",re,"— "+b(s.name||"匿名分享者"),1),l("p",me,b(I(s.timestamp)),1)])]),_:2},1032,["style","onMousemove"])}),128))])]),_:1})],512)):Q("",!0)]),_:1})]),_:1})}}},fe=G(ue,[["__scopeId","data-v-db2fa23f"]]);export{fe as default};
